flowchart TB
 subgraph s1["第一部分：问题定义与分析"]
        C{"软硬不匹配冲突"}
        A["边缘计算资源受限"]
        B["应用负载多样性"]
        D["挑战1: 机制选型困境"]
        E["挑战2: 追踪开销高"]
        F["挑战3: Flash存储约束"]
  end
 subgraph s2["第二部分：HPRO系统架构设计"]
    direction TB
        G["HPRO总体架构"]
        H["内核监控层"]
        I["策略决策层"]
        J["执行优化层"]
  end
 subgraph s3["第三部分：关键技术攻关"]
    direction TB
        K["软硬协同热点感知"]
        L["基于热点感知和SPI的<br>自适应快照策略"]
        M["面向Flash的存储优化"]
  end
 subgraph s4["第四部分：验证"]
    direction LR
        N["系统原型实现与评估"]
  end
    A --> C
    B --> C
    C --> D & E & F
    G --> H & I & J
    s1 --> s2
    s2 --> s3
    s3 --> s4

     C:::decision
     A:::step
     B:::step
     D:::decision
     E:::decision
     F:::decision
     G:::state
     H:::state
     I:::state
     J:::state
     K:::update
     L:::update
     M:::update
     N:::step
    classDef step fill:#b3e5fc,stroke:#01579b,stroke-width:2px
    classDef decision fill:#ffcdd2,stroke:#c62828,stroke-width:2px
    classDef state fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    classDef update fill:#fff9c4,stroke:#fbc02d,stroke-width:2px
    style s1 fill:#f5f5f5, stroke:#aaa
    style s2 fill:#f5f5f5, stroke:#aaa
    style s3 fill:#f5f5f5, stroke:#aaa
    style s4 fill:#f5f5f5, stroke:#aaa